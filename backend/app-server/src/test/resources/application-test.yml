spring:
  config:
    activate:
      on-profile: test

---

spring:
  datasource:
    username: sa
    driver-class-name: org.h2.Driver
    url: jdbc:h2:mem:testdb

  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: create
    properties:
      hibernate:
        format_sql: true
  #        show_sql: true

  security:
    oauth2:
      client:
        registration:
          kakao:
            client-id: "KAKAO_CLIENT_ID" # idToken.aud에 해당
        provider:
          kakao:
            issuer-uri: "https://kauth.kakao.com"
            jwk-set-uri: "http://localhost:8089/kakao/.well-known/jwks.json"

  output:
    ansi:
      enabled: always

app:
  jwt:
    issuer: "api.goforawalk.site"
    user-name-attribute: "sub"
    at-secret-key: "JWT_AT_SECRET_KEY_MUST_HAVE_A_SIZE_GREATER_THAN_256_BITS"
    rt-secret-key: "JWT_RT_SECRET_KEY_MUST_HAVE_A_SIZE_GREATER_THAN_256_BITS"
    at-expiration-seconds: 600
    rt-expiration-seconds: 1200

gcp:
  project-id: "GCP_PROJECT_ID"
  storage:
    bucket: "GCP_STORAGE_BUCKET"
    credentials:
      # 테스트용 가짜 서비스 키
      encoded-key: "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAidGVzdC1wcm9qZWN0IiwKICAicHJpdmF0ZV9rZXlfaWQiOiAidGVzdC1rZXktaWQtMTIzNDUiLAogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS0KTUlJRXZ3SUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2t3Z2dTbEFnRUFBb0lCQVFDK0VWczl5RDZnMkpoVApuQWZmdkNrbzdueVRoTXN4QkFIb2V4TFZNTGd1dXhqMlRySlBTRXdrZHR1S3F4Ym9TODgyMXlleHZ6SWowSzZXCk5PVzUxUTNGdU5qVjlWbU9nMC9STlJZWUlvd1dDZUwrYzU2MVNJM2JnZnB2K3BvZFJNM2wyZ2J3SEs4RVZtQ3IKMnBWQXFqVjR4U3ZUcHFlYVBOdklRVzlYL0VaZHdSdkZKSHUyRitKVFB4ZUk0bXRPMlR1c1paZElEVU1yTldsagp3S2Ywa3p2dWZseGdQU3FpYjF6V3VWcUczeGphUWJ0cll3dnNQM0ZXakNzd3VJRFloeUcvOUlpbU1MUXhZQXl0CnZ6MUk3Q1MyK1FnN2JSTm1kZHF5WENmRlJJa1FaTjZXTlNJc0FRR3ljWW5XT2NFUUFLYlI2Q0M1WVdQYVZxRWYKN3RhaUZjNGxBZ01CQUFFQ2dnRUFHMXRTZ2lYUWJ5OURCdG03bFJEaDdieHh5Q2FDRVNmWXJIWmhHTGYrblQ5SApFYXRKdW82WE9GMEwyV2dwdW1nRm5GNURIakFubzltMVNmVUswYXRnT1pnUzl3SVlPMDBjSlJVRkordlB0UEVFCldvZkN0LzRJUGxMSzBlanZNTGVjQThiVXM4KzFHSG5rUjlLdmVTaTczSXBUUzJTVDFXZmRZY2xGUzVQZktaUW4KZzdhdWRLbDY1SEhNSmFWQVUvUU5DbXRNYzZxRlBoWEJVa2Qzc1JYa3F1bzdDRHR5bldxMnNrMVc1aGI0UTdGOApDTEJDWENUVUtVaDdmU0JmTGJYZ042cGhkeEhUOHlVaXpGUTVldndiNzFMd21Nc0JBS3dpcStaejFHekNpYzNGCkZsWmJHM2NjV2dpUE5aZHozcWhlb0Z6d3VOWm1QTUxtVGVYaFZNcEZXd0tCZ1FEMTlrRGV0K3N0MkU5VHptemYKRGlLdHpmbUpVV1g0K3YrSUI0d0cvYVMxNzZIY3I1MjRjRTBFWmJmWENSeFJVUi9SYVV2c3ZBRDRFaVNtN1RxNQppNkt2ZWZNVStCd2E2Sk1jc2NXdHJPUTZ3UkJQbjJnbUlOUEhlTE11UDRYVDROY29rVldKT3RWSUJ3RnVMRmppCll1WTlvei81VGo1WDZmc3lIYUhpcXg0Tjh3S0JnUURGMHlLM2FhT0U1eE9wcS9TOGxqV2tsYytWQ245ZTFYckEKMHVWUXFzcE82c2themlqeE1wZFVwV0k1TWVrRW9FL0tsZFFUMk0wQU1RT1ZJd09TUGF1WW5HMk5rVkt3Tlc4eQpDL05BY3ByZHRxdEI1V1JaZGx6R1ZaSEUyQTVNazJkd1J2MmVsVFZENGFWK1VLOTFtRFEzbERieDM5QjBrZVV4CitDSEcremVCaHdLQmdRRG9MRjZKbmVUQ3JzZ2EzT1ZLSEliQnQ0ZVFocVNTUlNRR25ORWlIRFZwZzkwdmV4cVAKYW5wWTUwZUZGVldFc09ZdS80MHExMEMyNmpGczNNd3RMMUVQQVRkakdOMDJ6VWxvc2FwZXlhL2Fnam5LWHplcApuaDBxMHBXWTExK1ZaRXpWUDNNVmlkS2dIZlRNc2RIcFNOLzdXT2xmaE9zMmcyaVpvdjBZQU56cTN3S0JnUUMvCkNnTjNya3VjVis4VUpweEUxcVpkRjlPTU1jUUpHQTNnVW9ualdkdmZWRHI3YU9YKzc0VlcyQk8vK2lQMk5MNTUKZkRGL0xSbmp1bkdrUDFqK2pCRy9ZaWtsMHBaUTFubFlrbFBLQkNMc1E3Q2xCVnJnVGo2UHhpanNPRjJ1czVicgp4Wks4NTRpMTBoNFltdUNtcG1LZTNjSWwyS2NkTzV0am95VXpYSDBnMXdLQmdRQ3puRU5KTjBFSU94UFgyKzVMCndSR0diY0VIdzV6NER1QXNiVDRsWDhJU292Yk9lcEFhRkJnUEhRUnM5M1BOdEFMbjg1NkhReTZkTFpkN0lkVGQKN2VESjQ3eldZTGh5cEE4S1NUekszR01HVXRsTDV2ZjBYbFY0UmtHaTFwL2FLcHhiMmNkSGIxKzVYd3F2SXJEegpWYnEwc2dmRUZqK0U3U1VVdnNhU2lXNVFGUT09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0iLAogICJjbGllbnRfZW1haWwiOiAidGVzdC1zZXJ2aWNlLWFjY291bnRAdGVzdC1wcm9qZWN0LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAiY2xpZW50X2lkIjogIjEyMzQ1Njc4OTAxMjM0NTY3ODkwMSIsCiAgImF1dGhfdXJpIjogImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoIiwKICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwKICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsCiAgImNsaWVudF94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3JvYm90L3YxL21ldGFkYXRhL3g1MDkvdGVzdC1zZXJ2aWNlLWFjY291bnRAdGVzdC1wcm9qZWN0LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAidW5pdmVyc2VfZG9tYWluIjogImdvb2dsZWFwaXMuY29tIgp9"

logging:
  level:
    org.springframework.security.oauth2.jwt: DEBUG
    org.springframework.security: DEBUG
    com.nimbusds.jose.jwk.source: DEBUG
    org.springframework.web.client.RestTemplate: TRACE
    org.apache.http.wire: TRACE
#
#    jdbc:
#      audit: OFF
#      resultset: OFF
#      resultsettable: INFO
#      sqlonly: DEBUG
#      sqltiming: OFF

decorator:
  datasource:
    p6spy:
      enable-logging: true
      multiline: true
      logging: slf4j

